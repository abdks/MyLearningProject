@model Tuple<List<MyLearningProject.DAL.Entities.Course>, List<int>>

<div class="container-xxl py-5">
    <div class="container">
        <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
            <h6 class="section-title bg-white text-center text-primary px-3">Courses</h6>
            <h1 class="mb-5">Popular Courses</h1>
        </div>
        <div class="row g-4 justify-content-center">
            @{
                int a = 1;
            }
            @foreach (var course in Model.Item1)
            {
                if (a <= 6)
                {
                    <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                        <div class="course-item bg-light">
                            <div class="position-relative overflow-hidden">
                                <img class="img-fluid" src="@course.ImageUrl" alt="">
                                <div class="w-100 d-flex justify-content-center position-absolute bottom-0 start-0 mb-4">
                                    <a href="/CourseDetail/Index/@course.CourseID" class="flex-shrink-0 btn btn-sm btn-primary px-3 border-end" style="border-radius: 30px 0 0 30px;">Hakkında</a>

                                    @if (Model.Item2.Contains(course.CourseID))
                                    {
                                        <!-- Öğrenci kursa sahipse, "Katıl" butonu etkinleştirilir -->
                                        <a href="/Course/JoinCourse/@course.CourseID" class="flex-shrink-0 btn btn-sm btn-primary px-3 border-end">Katıl</a>
                                    }
                                    else
                                    {
                                        <!-- Öğrenci kursa sahip değilse, "Katıl" butonu devre dışı bırakılır ve tıklamada uyarı gösterilir -->
                                        <button class="flex-shrink-0 btn btn-sm btn-primary px-3 border-end">Kursa Sahip Değilsin</button>
                                     

                                    }
                                </div>
                            </div>
                            <div class="text-center p-4 pb-0">
                                <h3 class="mb-0">@course.Price</h3>
                                <div class="mb-3">
                                    <small class="fa fa-star text-primary"></small>
                                    <small class="fa fa-star text-primary"></small>
                                    <small class="fa fa-star text-primary"></small>
                                    <small class="fa fa-star text-primary"></small>
                                    <small class="fa fa-star text-primary"></small>
                                    <small>(123)</small>
                                </div>
                                <h5 class="mb-4">@course.Title</h5>
                            </div>
                            <div class="d-flex border-top">
                                <small class="flex-fill text-center border-end py-2"><i class="fa fa-user-tie text-primary me-2"></i>@course.Instructor.Name</small>
                                <small class="flex-fill text-center border-end py-2"><i class="fa fa-clock text-primary me-2"></i>@course.Duration</small>
                                <small class="flex-fill text-center py-2"><i class="fa fa-user text-primary me-2"></i>30 Students</small>
                            </div>
                        </div>
                    </div>
                    a++;
                }
            }
        </div>
    </div>
</div>

